(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{111:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return i})),n.d(t,"default",(function(){return c}));var a=n(2),r=n(6),o=(n(0),n(121)),l={id:"advance_logger",title:"Building A Super Cool Colorful Logger with Deno fmt module",sidebar_label:"Implementing Logger"},s={id:"advance_logger",title:"Building A Super Cool Colorful Logger with Deno fmt module",description:"Logging trace is one of the basic needs of a any programming language. It does not matter how good your code is, unless it is not traceable and debugable. For debugging, Logging one of the best tool. It is fast and easy to follow. If you are working on local system This could be your best mate while debugging.",source:"@site/website/advance_logger.md",permalink:"/deno-by-example/advance_logger",editUrl:"https://github.com/deepakshrma/deno-by-example/edit/master/website/advance_logger.md",sidebar_label:"Implementing Logger",sidebar:"someSidebar",previous:{title:"Read Line by Line as Data Stream",permalink:"/deno-by-example/advance_readline"}},i=[{value:"Prerequisites",id:"prerequisites",children:[{value:"Formatted Log in JS",id:"formatted-log-in-js",children:[]},{value:"Issues with <code>vargs</code>",id:"issues-with-vargs",children:[]},{value:"Introduction to PrintF",id:"introduction-to-printf",children:[]},{value:"Colors in Log",id:"colors-in-log",children:[]},{value:"Create a Basic Logger Class",id:"create-a-basic-logger-class",children:[]}]}],b={rightToc:i};function c(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Logging trace is one of the basic needs of a any ",Object(o.b)("inlineCode",{parentName:"p"},"programming language"),". It does not matter how good your code is, unless it is not ",Object(o.b)("inlineCode",{parentName:"p"},"traceable")," and ",Object(o.b)("inlineCode",{parentName:"p"},"debugable"),". For debugging, Logging one of the best tool. It is ",Object(o.b)("inlineCode",{parentName:"p"},"fast")," and ",Object(o.b)("inlineCode",{parentName:"p"},"easy")," to follow. If you are working on ",Object(o.b)("inlineCode",{parentName:"p"},"local system")," This could be your best mate while ",Object(o.b)("inlineCode",{parentName:"p"},"debugging"),"."),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"NICE QUOTE:"),Object(o.b)("p",{parentName:"blockquote"},Object(o.b)("strong",{parentName:"p"},"LOG WELL, LIVE WELL"))),Object(o.b)("p",null,Object(o.b)("img",Object(a.a)({parentName:"p"},{src:"https://cdn-media-1.freecodecamp.org/images/EMv0ZRmR82v5oUZ4ZNllx29LNYgqZoUwjua-",alt:"image "}))),Object(o.b)("p",null,"Here in this tutorial, I will explain. How you can build a super cool logger with just minimal code(few line of the code). That is also without using any third party tool."),Object(o.b)("h2",{id:"prerequisites"},"Prerequisites"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Deno: Install Deno if you don't have it ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://deno.land/#installation"}),"installation")),Object(o.b)("li",{parentName:"ol"},"Basic Typescript: ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://www.typescriptlang.org/docs/handbook/basic-types.html"}),"basic-types"))),Object(o.b)("p",null,"Just like Nodejs/JavaScript. Logging can be done using ",Object(o.b)("inlineCode",{parentName:"p"},"console.log")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'console.log("Hello World");\n')),Object(o.b)("p",null,"Nice! However formatting log message is big pain is javascript. ",Object(o.b)("inlineCode",{parentName:"p"},"console.log")," partially implement function like ",Object(o.b)("inlineCode",{parentName:"p"},"printf")," from ",Object(o.b)("inlineCode",{parentName:"p"},"c++")," or ",Object(o.b)("inlineCode",{parentName:"p"},"java"),". But doesn't not support all the features. So how we should log formatted message."),Object(o.b)("h3",{id:"formatted-log-in-js"},"Formatted Log in JS"),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Using String template.")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'const name = "Deepak";\nconst salary = 2000;\nconsole.log(`My name is ${name} and my salary is ${salary}$`);\n\n// My name is Deepak and my salary is 2000$\n')),Object(o.b)("p",null,"Cool! But we can see for each parameter in template, we have to you a constant/variable. It will be hard to create variables just to log something."),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Using Vargs in ",Object(o.b)("inlineCode",{parentName:"p"},"console.log"),".")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'const name = "Deepak";\nconst salary = 2000;\nconsole.log(`My name and salary are `, name, salary);\n\n// My name and salary are  Deepak 2000\n\nconst person = { name: "deepak", salary: 2000 };\nconsole.log(`Info: `, person);\n// Info:  { name: \'deepak\', salary: 2000 }\n')),Object(o.b)("p",null,"The above statement also valid in javascript. We can pass any number of vargs to ",Object(o.b)("inlineCode",{parentName:"p"},"console.log")," However, we can't arrange the message with variables. This is very useful to print anything just by separating value from comma. But this can not be use for logging something useful."),Object(o.b)("h3",{id:"issues-with-vargs"},"Issues with ",Object(o.b)("inlineCode",{parentName:"h3"},"vargs")),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Unpredicted implementation"),Object(o.b)("li",{parentName:"ol"},"Error-prone")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Let's see in example:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'const person = { name: "deepak", salary: 2000 };\nconst address = { street: "221B baker street london", zip: 20000 };\nconsole.log("Person info: " + person + " Address: " + address);\n// Person info: [object Object] Address: [object Object]\n')),Object(o.b)("p",null,"If you try to append the object with string it convert to string which is ","[object Object]"," for object and appended."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},Object(o.b)("em",{parentName:"strong"},"Solution"))),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'const person = { name: "deepak", salary: 2000 };\nconst address = { street: "221B baker street london", zip: 20000 };\nconsole.log(\n  "Person info: " +\n    JSON.stringify(person) +\n    " Address: " +\n    JSON.stringify(address)\n);\n// Person info: {"name":"deepak","salary":2000} Address: {"street":"221B baker street london","zip":20000}\n\n// Or\n\nconsole.log("Person info: ", person, " Address: ", address);\n// Person info:  { name: \'deepak\', salary: 2000 }  Address:  { street: \'221B baker street london\', zip: 20000 }\n')),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Using Partial printf like feature in ",Object(o.b)("inlineCode",{parentName:"p"},"console.log"),".")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'const person = { name: "deepak", salary: 2000 };\nconst address = { street: "221B baker street london", zip: 20000 };\nconsole.log(\n  "Person info: name: %s salary: %d and Address: street: %s ",\n  person.name,\n  person.salary,\n  address.street\n);\n// Person info: name: deepak salary: 2000 and Address: street: 221B baker street london\n')),Object(o.b)("p",null,"Here you can see, ",Object(o.b)("inlineCode",{parentName:"p"},"console.log")," does support few ",Object(o.b)("inlineCode",{parentName:"p"},"printf")," like function. However that is limited till ",Object(o.b)("inlineCode",{parentName:"p"},"%s")," ","[string]",", ",Object(o.b)("inlineCode",{parentName:"p"},"%d")," ","[number]",". Mozilla does support Precision formatting something like ",Object(o.b)("inlineCode",{parentName:"p"},"%.2f"),"."),Object(o.b)("h3",{id:"introduction-to-printf"},"Introduction to PrintF"),Object(o.b)("p",null,"Deno is highly inspired by Go. Just like Go, Deno also has ",Object(o.b)("inlineCode",{parentName:"p"},"fmt")," module in standard library. This module/package is combination of multiple sub-modules like ",Object(o.b)("inlineCode",{parentName:"p"},"printf"),"."),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},Object(o.b)("strong",{parentName:"p"},"Note:")," fmt module is still in work-in-progress status according to developers.")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Importing printf:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'import { printf } from "https://deno.land/std/fmt/printf.ts";\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Definition of printf:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),"export function printf(format: string, ...args: unknown[]): void {\n  const s = sprintf(format, ...args);\n  Deno.stdout.writeSync(new TextEncoder().encode(s));\n}\n")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"printf")," takes string and ",Object(o.b)("inlineCode",{parentName:"p"},"vars")," of unknown. Format is to define how the format of the string will look like. args could be anything according to to format you wanted."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Sample of printf:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'const person = { name: "deepak", salary: 2000 };\nprintf(`Person Name: "%s" and Salary: %d\\n`, person.name, person.salary);\n\n// Person Name: "deepak" and Salary: 2000\n')),Object(o.b)("p",null,"According to Deno docs:\n",Object(o.b)("strong",{parentName:"p"},Object(o.b)("em",{parentName:"strong"},"The other formats(Verbs) are:"))),Object(o.b)("p",null,"The following verbs are supported:"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Verb"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Meaning"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"%")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"print a literal percent")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"t")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"evaluate arg as boolean, print ",Object(o.b)("inlineCode",{parentName:"td"},"true")," or ",Object(o.b)("inlineCode",{parentName:"td"},"false"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"b")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"eval as number, print binary")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"c")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"eval as number, print character corresponding to the codePoint")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"o")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"eval as number, print octal")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"x X")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"print as hex (ff FF), treat string as list of bytes")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"e E")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"print number in scientific/exponent format 1.123123e+01")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"f F")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"print number as float with decimal point and no exponent")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"g G")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"use %e %E or %f %F depending on size of argument")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"s")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"interpolate string")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"T")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"type of arg, as returned by ",Object(o.b)("inlineCode",{parentName:"td"},"typeof"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"v")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"value of argument in 'default' format (see below)")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"j")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"argument as formatted by ",Object(o.b)("inlineCode",{parentName:"td"},"JSON.stringify"))))),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},Object(o.b)("em",{parentName:"strong"},"Verbs with Width and Precision"))),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"%9f    width 9, default precision\n%.9f   default width, precision 9\n%8.9f  width 8, precision 9\n%8.f   width 9, precision 0\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Sample of Width and Precision:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'const person = { name: "deepak", salary: 2000.2 };\nprintf(`Person Name: "%s" and Salary: %9.2f\\n`, person.name, person.salary);\n\n// Person Name: "deepak" and Salary:   2000.20\n')),Object(o.b)("p",null,"You can write more complex example like padding and get the value the ",Object(o.b)("inlineCode",{parentName:"p"},"vargs")," passed to printf function."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Sample of Padding:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'const person = { name: "deepak", salary: 2000.2 };\n\n// Padding Zero\n\nprintf(`Salary: %09.2f\\n`, person.salary);\n\n// Salary: 002000.20\n')),Object(o.b)("p",null,"The conversion of rgb to hex color is so simple."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'const r = 5,\n  g = 255,\n  b = 100;\nprintf("RGB TO HEX: #%02x%02x%02x\\n", r, g, b);\n\n// RGB TO HEX: #05ff64\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"More Complex- Use index of ",Object(o.b)("inlineCode",{parentName:"strong"},"vargs")," values:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'const person = { name: "deepak", salary: 2000.2 };\n\nprintf(\n  "Person has salary %d, which(%[1]d) is less than average salary %d\\n",\n  person.salary,\n  4000\n);\n\n// Person has salary 2000.2, which(2000.2) is less than average salary 4000\n')),Object(o.b)("p",null,"Read More: ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://deno.land/std/fmt"}),"https://deno.land/std/fmt")),Object(o.b)("h3",{id:"colors-in-log"},"Colors in Log"),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"THE DOOR IS RED HERE THE WRITER USES THE COLOR TO EXPRESS HIS ANGER")),Object(o.b)("p",null,Object(o.b)("img",Object(a.a)({parentName:"p"},{src:"https://pics.me.me/the-door-is-red-here-the-writer-uses-the-color-38911952.png",alt:"colors"}))),Object(o.b)("p",null,"The another issue with ",Object(o.b)("inlineCode",{parentName:"p"},"console.log"),", It does not support colors out of box. We end-up adding library like ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.npmjs.com/package/colors"}),"colors")," in NodeJs. Browser has some additional support for ",Object(o.b)("inlineCode",{parentName:"p"},"css")," console.log. But that will not work in NodeJs"),Object(o.b)("p",null,"More: ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/console"}),"https://developer.mozilla.org/en-US/docs/Web/API/console")),Object(o.b)("p",null,"Thanks to Deno's Colors module. Now we can easily color our life."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Importing colors:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'import { red, yellow, gray, cyan } from "https://deno.land/std/fmt/colors.ts";\n')),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Note: Color module also support rgb colors")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'import { rgb8, bgRgb8, rgb24 } from "https://deno.land/std/fmt/colors.ts";\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"From Deno source:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),"/** Set background color using paletted 8bit colors.\n * https://en.wikipedia.org/wiki/ANSI_escape_code#8-bit */\nexport function bgRgb8(str: string, color: number): string {\n  return run(str, code([48, 5, clampAndTruncate(color)], 49));\n}\n")),Object(o.b)("blockquote",null,Object(o.b)("h3",Object(a.a)({parentName:"blockquote"},{id:"now-we-have-all-basic-tool-lets-finish-the-logger-implementation"}),"Now, We have all basic tool. Let's finish the Logger implementation.")),Object(o.b)("p",null,Object(o.b)("img",Object(a.a)({parentName:"p"},{src:"https://www.memesmonkey.com/images/memesmonkey/19/19d6564114a19af49a8e40e3338adb46.jpeg",alt:"Finish IT"}))),Object(o.b)("h3",{id:"create-a-basic-logger-class"},"Create a Basic Logger Class"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Define interfaces:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'import { sprintf } from "https://deno.land/std/fmt/printf.ts";\nimport { red, yellow, gray, cyan } from "https://deno.land/std/fmt/colors.ts";\n\ntype LogLevel = 0 | 1 | 2 | 3;\ninterface LoggerOptions {\n  level: LogLevel;\n  format?: string;\n}\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Define default values for log level and formatter:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'const initialOptions = { level: 0, format: "%s\\n" };\nclass Logger {\n  private _level: LogLevel;\n  private _format: string;\n  constructor(options: LoggerOptions = initialOptions as LoggerOptions) {\n    const { level, format } = { ...initialOptions, ...options };\n    this._level = level;\n    this._format = format;\n  }\n}\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Define getter setter for level and format:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'const initialOptions = { level: 0, format: "%s\\n" };\nclass Logger {\n  private _level: LogLevel;\n  private _format: string;\n  /// rest of the code\n  get level(): LogLevel {\n    return this._level;\n  }\n  set level(_l: LogLevel) {\n    this._level = _l;\n  }\n  get format(): string {\n    return this._format;\n  }\n  set format(_f: string) {\n    this._format = _f;\n  }\n}\n')),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Note: This is to hide the definition. You can remove setter if you don't want user to modify the values.")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Add basic methods:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'const initialOptions = { level: 0, format: "%s\\n" };\nclass Logger {\n  private _level: LogLevel;\n  private _format: string;\n  /// rest of the code\n  log(...messages: unknown[]) {\n    console.log(gray(sprintf(this.format, ...messages)));\n  }\n  info(...messages: unknown[]) {\n    console.log(cyan(sprintf(this.format, ...messages)));\n  }\n  warn(...messages: unknown[]) {\n    console.log(yellow(sprintf(this.format, ...messages)));\n  }\n  error(...messages: unknown[]) {\n    console.log(red(sprintf(this.format, ...messages)));\n  }\n}\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Sample Run:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'import { Logger } from "./logger.ts";\n\nconst logger = new Logger({ level: 0, format: "Logger: %s" });\nlogger.log("This is log message");\nlogger.info("This is info");\nlogger.warn("This is warn");\nlogger.error("This is error");\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Output:")),Object(o.b)("img",{src:"https://raw.githubusercontent.com/deepakshrma/deno-by-example/master/static/img/logger_sample_01.png",width:"800",height:"400"}),Object(o.b)("p",null,"If you notice, i am using ",Object(o.b)("inlineCode",{parentName:"p"},"sprintf")," instead of ",Object(o.b)("inlineCode",{parentName:"p"},"printf"),". Since i want the full control on the printing message like adding colors and use dynamic formatter. I have to use sprintf instead of printf."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Let's allow user to modify format on runtime:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'const initialOptions = { level: 0, format: "%s\\n" };\nclass Logger {\n  private _level: LogLevel;\n  private _format: string;\n  /// rest of the code\n  log(format: string, ...messages: unknown[]) {\n    if (messages.length === 0) {\n      messages = [format];\n      format = this.format;\n    }\n    console.log(gray(sprintf(format, ...messages)));\n  }\n  info(format: string, ...messages: unknown[]) {\n    if (messages.length === 0) {\n      messages = [format];\n      format = this.format;\n    }\n    console.log(cyan(sprintf(format, ...messages)));\n  }\n  warn(format: string, ...messages: unknown[]) {\n    if (messages.length === 0) {\n      messages = [format];\n      format = this.format;\n    }\n    console.log(yellow(sprintf(format, ...messages)));\n  }\n  error(format: string, ...messages: unknown[]) {\n    if (messages.length === 0) {\n      messages = [format];\n      format = this.format;\n    }\n    console.log(red(sprintf(format, ...messages)));\n  }\n}\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Sample Run2:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'import { Logger } from "./logger.ts";\n\nconst logger = new Logger({ level: 0, format: "Logger: %s" });\nlogger.log("This is log message");\nlogger.warn("This is warn");\n\nlogger.log("Overridden Info- Method: //%s %s [response time]: %05f ms" , "POST", "https://www.google.com", 100);\nlogger.error("Overridden Error- Error: //%s" , new Error("This is error").message);\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Output:")),Object(o.b)("img",{src:"https://raw.githubusercontent.com/deepakshrma/deno-by-example/master/static/img/logger_sample_02.png",width:"800",height:"400"}),Object(o.b)("h4",{id:"final-touch-use-of-log-levels"},"Final Touch: Use of log levels"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'const initialOptions = { level: 0, format: "%s\\n" };\nclass Logger {\n  private _level: LogLevel;\n  private _format: string;\n  /// rest of the code\n  log(format: string, ...messages: unknown[]) {\n    if (this.level > 0) return;\n    if (messages.length === 0) {\n      messages = [format];\n      format = this.format;\n    }\n    console.log(gray(sprintf(format, ...messages)));\n  }\n  /// rest of the code\n}\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Final Run:")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-typescript"}),'import { Logger } from "./logger.ts";\n\nconst logger = new Logger({ level: 0, format: "Logger: %s" });\nlogger.log("This is log message");\nlogger.warn("This is warn");\n\nlogger.log("Overridden Info- Method: //%s %s [response time]: %05f ms" , "POST", "https://www.google.com", 100);\nlogger.error("Overridden Error- Error: //%s" , new Error("This is error").message);\n\n// Change level\n\nlogger.level = 2;\n\n// This will not print\nlogger.log("Overridden Info- Method: //%s %s [response time]: %05f ms" , "POST", "https://www.google.com", 100);\n\n// This will print\nlogger.error("Overridden Error- Error: //%s" , new Error("This is error").message);\n\n// Change default format\nlogger.level = 1;\n\nlogger.format = "This is something new version: v%s";\n\nlogger.info("1.0.1");\nlogger.info("1.0.2");\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Output:")),Object(o.b)("img",{src:"https://raw.githubusercontent.com/deepakshrma/deno-by-example/master/static/img/logger_sample_03.png",width:"800",height:"400"}),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"<Nice! Good Job. We have done it!!>")),Object(o.b)("p",null,Object(o.b)("img",Object(a.a)({parentName:"p"},{src:"https://sayingimages.com/wp-content/uploads/you-did-good-job-meme.jpg",alt:"good job"}))),Object(o.b)("h4",{id:"the-entire-implementation-of-logger-class-can-be-found-in"},"The entire implementation of ",Object(o.b)("inlineCode",{parentName:"h4"},"Logger class")," can be found in"),Object(o.b)("p",null,Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/deepakshrma/deno-by-example/blob/master/examples/logger.ts"}),"examples/logger.ts")),Object(o.b)("h4",{id:"how-to-use-sample-can-be-found-in"},"How to use sample can be found in"),Object(o.b)("p",null,Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/deepakshrma/deno-by-example/blob/master/examples/advance_logger.ts"}),"examples/advance_logger.ts")),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"For more example, visit:\n",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://deepakshrma.github.io/deno-by-example/"}),"https://deepakshrma.github.io/deno-by-example/"))),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"I hope you like this tutorial. let me know your feedback in the comment. Please support(\ud83d\ude4f\ud83d\ude4f) by subscribing and clapping on ",Object(o.b)("a",Object(a.a)({parentName:"em"},{href:"https://medium.com/@deepak_v"}),"https://medium.com/@deepak_v"),".")))}c.isMDXComponent=!0},121:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var b=r.a.createContext({}),c=function(e){var t=r.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):s({},t,{},e)),n},p=function(e){var t=c(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},g=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,b=i(e,["components","mdxType","originalType","parentName"]),p=c(n),g=a,d=p["".concat(l,".").concat(g)]||p[g]||m[g]||o;return n?r.a.createElement(d,s({ref:t},b,{components:n})):r.a.createElement(d,s({ref:t},b))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=g;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:a,l[1]=s;for(var b=2;b<o;b++)l[b]=n[b];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,n)}g.displayName="MDXCreateElement"}}]);